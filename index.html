<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KCC Billing OS ‚Äî Krishna Kidney Centre</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">

  <!-- VENDORS -->
  <script src="vendor/html2canvas.min.js"></script>
  <script src="vendor/jspdf.umd.min.js"></script>
  <script src="vendor/jspdf.autotable.min.js"></script>
  <script src="vendor/qrcode.min.js"></script>
  <script src="vendor/JsBarcode.min.js"></script>
</head>

<body>

<!-- ============================================================
     SIDEBAR
============================================================ -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-header">
    <img src="assets/logo.png" class="sidebar-logo" alt="KCC Logo">
    <h2>Krishna Kidney Centre</h2>
  </div>

  <nav class="sidebar-nav">
    <button class="nav-btn active" data-panel="dashboard">üè† Dashboard</button>
    <button class="nav-btn" data-panel="newBill">üßæ New Bill</button>
    <button class="nav-btn" data-panel="tariff">üí∞ Tariff Master</button>
    <button class="nav-btn" data-panel="history">üìö Bill History</button>
    <button class="nav-btn" data-panel="settings">‚öôÔ∏è Settings</button>
  </nav>

  <div class="sidebar-footer">
    <button id="toggleTheme">üåì Theme</button>
    <button id="collapseSidebar">‚¨Ö Collapse</button>
  </div>
</aside>


<!-- ============================================================
     TOP NAVBAR
============================================================ -->
<header class="topbar">
  <h1 id="panelTitle">Dashboard</h1>
</header>


<!-- ============================================================
     MAIN CONTENT PANELS
============================================================ -->
<main id="main">

  <!-- ==========================
       DASHBOARD PANEL
  =========================== -->
  <section id="dashboard" class="panel active-panel">
    <h2>Welcome to KCC Billing OS</h2>
    <p>Your fully offline hospital billing system.</p>

    <div class="dash-grid">

      <div class="dash-card">
        <h3>Total Bills</h3>
        <p id="dashTotalBills">0</p>
      </div>

      <div class="dash-card">
        <h3>Total Revenue</h3>
        <p id="dashTotalRevenue">‚Çπ0</p>
      </div>

      <div class="dash-card">
        <h3>Pending Balance</h3>
        <p id="dashPendingBalance">‚Çπ0</p>
      </div>

    </div>
  </section>

  <!-- ==========================
       NEW BILL PANEL
  =========================== -->
  <section id="newBill" class="panel">

    <div class="bill-container">

      <!-- =====================
           LEFT ‚Äî PATIENT DETAILS
      ====================== -->
      <div class="bill-left">

        <h3>Patient Details</h3>

        <div class="form-group"><label>Name</label><input id="pt_name"></div>
        <div class="form-group"><label>Patient ID</label><input id="pt_id"></div>

        <div class="form-row">
          <div class="form-group"><label>Age</label><input id="pt_age" type="number"></div>
          <div class="form-group">
            <label>Gender</label>
            <select id="pt_gender">
              <option value="">Select</option>
              <option>Male</option>
              <option>Female</option>
              <option>Other</option>
            </select>
          </div>
        </div>

        <div class="form-group"><label>Address</label><input id="pt_address"></div>

        <div class="form-group"><label>Department</label><input id="pt_dept"></div>
        <div class="form-group"><label>Consultant</label><input id="pt_doctor"></div>

        <div class="form-row">
          <div class="form-group">
            <label>Admission Date</label>
            <input type="date" id="pt_doa">
          </div>
          <div class="form-group">
            <label>Discharge Date</label>
            <input type="date" id="pt_dod">
          </div>
        </div>

        <div class="form-group">
          <label>Insurance?</label>
          <select id="pt_insured">
            <option value="no">No</option>
            <option value="yes">Yes</option>
          </select>
        </div>

        <div class="form-group insurance-block">
          <label>Insurance / Corporate Name</label>
          <input id="pt_insurer">
        </div>

        <div class="form-group insurance-block">
          <label>Claim Number</label>
          <input id="pt_claim">
        </div>

        <div class="form-group">
          <label>Length of Stay</label>
          <input id="pt_los" disabled>
        </div>

      </div>

      <!-- =====================
           RIGHT ‚Äî BILL MODULES
      ====================== -->
      <div class="bill-right">

        <!-- ROOM & DAILY CHARGES -->
        <div class="bill-box">
          <h3>Room & Daily Charges</h3>
          <select id="roomType"></select>

          <div class="room-breakup">
            <p>Room Rent/day: <span id="room_rent">0</span></p>
            <p>Nursing/day: <span id="room_nursing">0</span></p>
            <p>Duty Doctor/day: <span id="room_duty">0</span></p>
            <p>Consultant Fee/day: <span id="room_consult">0</span></p>
          </div>
        </div>

        <!-- CONSULTANT VISITS -->
        <div class="bill-box">
          <h3>Consultant Visits</h3>
          <button class="mini-btn" id="addVisit">+ Add Visit</button>
          <table id="visitTable"></table>
        </div>

        <!-- SURGERY MODULE -->
        <div class="bill-box">
          <h3>Surgeries</h3>
          <button class="mini-btn" id="addSurgery">+ Add Surgery</button>
          <div id="surgeryList"></div>
        </div>

        <!-- PHARMACY -->
        <div class="bill-box">
          <h3>Pharmacy</h3>
          <input type="number" id="pharmacyTotal" placeholder="Total Pharmacy Amount">
          <button class="mini-btn" id="addPharmaItem">Breakup +</button>
          <div id="pharmaList"></div>
        </div>

        <!-- INVESTIGATIONS -->
        <div class="bill-box">
          <h3>Investigations</h3>
          <button class="mini-btn" id="addInvestigation">+ Add Investigation</button>
          <div id="investList"></div>
        </div>

        <!-- MISC -->
        <div class="bill-box">
          <h3>Miscellaneous</h3>
          <button class="mini-btn" id="addMisc">+ Add Item</button>
          <div id="miscList"></div>
        </div>

        <!-- RECEIPTS -->
        <div class="bill-box">
          <h3>Receipts</h3>
          <button class="mini-btn" id="addReceipt">+ Add Receipt</button>
          <div id="receiptList"></div>
        </div>

        <!-- FINAL SUMMARY -->
        <div class="bill-summary">
          <h3>Final Summary</h3>
          <p>Gross Total: <span id="sum_gross">‚Çπ0</span></p>
          <p>Total Paid: <span id="sum_paid">‚Çπ0</span></p>
          <p>Balance: <span id="sum_balance">‚Çπ0</span></p>

          <button id="saveBill" class="primary-btn">Save Bill</button>
          <button id="exportPDF" class="secondary-btn">Export PDF</button>
        </div>

      </div>

    </div>
  </section>

  <!-- ==========================
       TARIFF MASTER PANEL
  =========================== -->
  <section id="tariff" class="panel">

    <h2>Tariff Master</h2>

    <div class="tariff-section">
      <h3>A. Room & Daily Charges</h3>
      <table id="tariff_rooms"></table>
    </div>

    <div class="tariff-section">
      <h3>B. Surgical Packages</h3>
      <button class="mini-btn" id="addPackage">+ Add Package</button>
      <div id="packageList"></div>
    </div>

    <div class="tariff-section">
      <h3>C. Investigations</h3>
      <button class="mini-btn" id="addInvestTariff">+ Add Investigation</button>
      <table id="tariff_invest"></table>
    </div>

    <div class="tariff-section">
      <h3>Import / Export Tariff</h3>
      <button class="primary-btn" id="exportTariff">Export JSON</button>
      <input type="file" id="importTariff" accept=".json">
    </div>

  </section>

  <!-- ==========================
       BILL HISTORY
  =========================== -->
  <section id="history" class="panel">
    <h2>Bill History</h2>
    <table id="historyTable"></table>
  </section>

  <!-- ==========================
       SETTINGS
  =========================== -->
  <section id="settings" class="panel">
    <h2>Settings</h2>
    <p>Offline Hospital Billing OS</p>
  </section>

</main>


<!-- ============================================================
     RIGHT-SIDE DRAWER (Used for Editing Tariffs & Packages)
============================================================ -->
<div id="drawer" class="drawer">
  <div class="drawer-header">
    <h3 id="drawerTitle">Edit</h3>
    <button id="drawerClose">‚úñ</button>
  </div>
  <div id="drawerContent" class="drawer-content"></div>
</div>


<!-- ============================================================
     APP JS
============================================================ -->
<script src="data/tariffs.js"></script>
<script src="app.js"></script>

</body>
</html>
