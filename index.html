<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>KCC Billing OS — Single Page System</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script defer src="app.js"></script>
</head>

<body>

    <!-- =========================================================
         FIXED TOP TABS — GOOGLE MATERIAL STYLE
    ========================================================== -->
    <header class="top-tabs">
        <div class="tab active" data-tab="patient">Patient</div>
        <div class="tab" data-tab="tariff">Tariff</div>
        <div class="tab" data-tab="billing">Billing</div>
        <div class="tab" data-tab="summary">Summary</div>
        <div class="tab" data-tab="print">Print</div>
    </header>

    <!-- =========================================================
         MAIN WRAPPER
    ========================================================== -->
    <div class="page-wrapper">

        <!-- =====================================================
             TAB 1 — PATIENT SECTION
        ====================================================== -->
        <section id="patient" class="tab-section active">

            <h1 class="section-title">Patient Details</h1>

            <div class="card">
                <div class="row-2">
                    <div>
                        <label>UHID</label>
                        <input id="uhid" readonly>
                    </div>

                    <div>
                        <label>IP Number</label>
                        <input id="ipNo" readonly>
                    </div>
                </div>

                <div class="row-2">
                    <div>
                        <label>Patient Name</label>
                        <input id="pname">
                    </div>
                    <div>
                        <label>Age / Gender</label>
                        <input id="agegender" placeholder="78 / Female">
                    </div>
                </div>

                <div class="row-2">
                    <div>
                        <label>Admission Date</label>
                        <input type="date" id="admDate">
                    </div>
                    <div>
                        <label>Run Date</label>
                        <input type="datetime-local" id="runDate">
                    </div>
                </div>

                <div class="row-2">
                    <div>
                        <label>Practitioner</label>
                        <input id="doctor" placeholder="Dr. Shama Shetty">
                    </div>
                    <div>
                        <label>Speciality</label>
                        <input id="speciality" placeholder="Head & Neck Surgery, ENT">
                    </div>
                </div>

                <div class="row-2">
                    <div>
                        <label>Bed Category</label>
                        <input id="bedCat" placeholder="GENERAL">
                    </div>
                    <div>
                        <label>Nursing Unit</label>
                        <input id="nursingUnit" placeholder="Pre Op Area">
                    </div>
                </div>

                <button class="btn-blue" id="genPatient">Generate UHID / IP</button>
            </div>

        </section>

        <!-- =====================================================
             TAB 2 — TARIFF SECTION
        ====================================================== -->
        <section id="tariff" class="tab-section">

            <h1 class="section-title">Tariff Management</h1>

            <div class="card">
                <h2 class="sub-title">Daily Charges</h2>
                <div class="row-4">
                    <div>
                        <label>Room Rent (General)</label>
                        <input id="t_room" type="number" value="1200">
                    </div>

                    <div>
                        <label>Nursing Charge</label>
                        <input id="t_nursing" type="number" value="400">
                    </div>

                    <div>
                        <label>RMO/DMO Charge</label>
                        <input id="t_rmo" type="number" value="300">
                    </div>

                    <div>
                        <label>Consultation Charge</label>
                        <input id="t_consult" type="number" value="500">
                    </div>
                </div>

                <h2 class="sub-title">OT Charges</h2>
                <div class="row-3">
                    <div>
                        <label>OT Base</label>
                        <input id="t_otbase" type="number" value="18000">
                    </div>
                    <div>
                        <label>OT Hourly Additional</label>
                        <input id="t_othour" type="number" value="2000">
                    </div>
                    <div>
                        <label>Anesthesia (per 30m)</label>
                        <input id="t_anes" type="number" value="30">
                    </div>
                </div>
            </div>

        </section>

        <!-- =====================================================
             TAB 3 — BILLING SECTION
        ====================================================== -->
        <section id="billing" class="tab-section">

            <h1 class="section-title">Billing Items</h1>

            <div class="card">
                <h2 class="sub-title">Daily Charges Auto Generator</h2>
                <button id="genDaily" class="btn-blue">Generate Daily Billing</button>
            </div>

            <div class="card">
                <h2 class="sub-title">Add Surgical Package</h2>

                <select id="packageSelect">
                    <option value="">Choose Package</option>
                    <option value="thyroid">Thyroidectomy Package</option>
                    <option value="turb">TURP Package</option>
                    <option value="hernia">Hernia Repair Package</option>
                    <option value="appendix">Appendectomy Package</option>
                </select>

                <button id="loadPackage" class="btn-blue">Load Package</button>
            </div>


            <div class="card">
                <h2 class="sub-title">Manual Items</h2>
                <button id="addManual" class="btn-blue">Add Item</button>
                <div id="billRows"></div>
            </div>

        </section>

        <!-- =====================================================
             TAB 4 — SUMMARY SECTION
        ====================================================== -->
        <section id="summary" class="tab-section">

            <h1 class="section-title">Summary</h1>

            <div class="card">
                <h2 class="sub-title">Totals</h2>

                <div class="summary-item">
                    <span>Gross Total</span>
                    <span id="grossTotal">₹0.00</span>
                </div>

                <div class="summary-item">
                    <span>GST Total</span>
                    <span id="gstTotal">₹0.00</span>
                </div>

                <div class="summary-item">
                    <span>Returns</span>
                    <span id="returnTotal">₹0.00</span>
                </div>

                <div class="summary-item">
                    <span>Receipts</span>
                    <span id="receiptTotal">₹0.00</span>
                </div>

                <div class="summary-final">
                    <span>Final Payable</span>
                    <span id="finalTotal">₹0.00</span>
                </div>

                <button id="goPrint" class="btn-blue">Go to Print Page</button>
            </div>

        </section>

        <!-- =====================================================
             TAB 5 — PRINT SECTION (VISIBLE ONLY IN SCREEN PREVIEW)
        ====================================================== -->
        <section id="print" class="tab-section">

            <h1 class="section-title">Print Preview</h1>
            <button id="printBill" class="btn-green">Print Bill</button>

            <div id="printArea" class="print-a4">
                <h1 class="print-title">Krishna Kidney Centre</h1>
                <h2 class="print-sub">IP Tax Invoice — Cash</h2>

                <div id="printDetails"></div>

                <table class="print-table">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Description</th>
                            <th>Rate</th>
                            <th>Qty</th>
                            <th>Gross</th>
                            <th>GST</th>
                            <th>Net</th>
                        </tr>
                    </thead>
                    <tbody id="printRows"></tbody>
                </table>

                <div class="print-summary">
                    <p><strong>Gross Total:</strong> <span id="p_gross"></span></p>
                    <p><strong>GST Total:</strong> <span id="p_gst"></span></p>
                    <p><strong>Returns:</strong> <span id="p_return"></span></p>
                    <p><strong>Receipts:</strong> <span id="p_receipts"></span></p>
                    <h2><strong>Final Payable: <span id="p_final"></span></strong></h2>
                </div>
            </div>

        </section>

    </div>

</body>

</html>
