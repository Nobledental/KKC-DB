<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Billing Editor — KCC Billing OS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="css/global.css">
  <link rel="stylesheet" href="css/billing.css">
</head>

<body>

<header class="topbar">
  <img src="assets/logo.png" class="logo" />
  <h1>Billing Editor</h1>
</header>

<div class="page billing-page">

  <!-- ================================
       PATIENT LOADING SECTION
  ================================= -->
  <div class="section">
    <h2>Select Patient</h2>

    <div class="patient-search">
      <input id="searchPatient" placeholder="Search patient by name or UHID">
      <div id="patientResults" class="dropdown"></div>
    </div>

    <button id="loadPatientBtn" class="btn-primary">
      Load Patient
    </button>

    <div id="patientSummary" class="patient-summary"></div>
  </div>

  <!-- ================================
       BILLING TABLE
  ================================= -->
  <div class="section">

    <h2>Billing Items</h2>

    <div class="table-wrapper">
      <div class="bill-header-row">
        <div>Date</div>
        <div>Description</div>
        <div>Rate</div>
        <div>Qty</div>
        <div>GST%</div>
        <div>Net</div>
        <div></div>
      </div>

      <div id="billTable"></div>
    </div>

    <!-- ACTION BUTTONS -->
    <div class="bill-actions">
      <button id="generateDailyBtn" class="btn-secondary">Auto Daily Charges</button>
      <button id="addBillItemBtn" class="btn-primary">Add Item</button>
      <button id="addReturnBtn" class="btn-secondary">Add Return</button>
      <button id="addReceiptBtn" class="btn-secondary">Add Receipt</button>
    </div>

  </div>

  <!-- ================================
       SUMMARY
  ================================= -->
  <div class="section">
    <h2>Summary</h2>

    <div class="summary-grid">
      <div>
        <label>Total Gross</label>
        <p id="tGross">₹0.00</p>
      </div>
      <div>
        <label>Total GST</label>
        <p id="tGST">₹0.00</p>
      </div>
      <div>
        <label>Total Returns</label>
        <p id="tReturns">₹0.00</p>
      </div>
      <div>
        <label>Total Receipts</label>
        <p id="tReceipts">₹0.00</p>
      </div>
      <div class="final-box">
        <label>Final Payable</label>
        <p id="tFinal">₹0.00</p>
      </div>
    </div>

    <button id="saveBillBtn" class="btn-primary full">
      Save Bill
    </button>
  </div>

</div>

<script src="js/storage.js"></script>
<script src="js/utils.js"></script>
<script src="js/billing.js"></script>

</body>
</html>
