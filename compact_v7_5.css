/* =========================================== BASE =========================================== */ 
body { 
    font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif; 
    font-size: 12px; 
    background: #f4f6f8; 
    padding: 20px 0; 
    color: #333;
} 
.container { 
    max-width: 800px; /* Increased max width to fit new columns */
    margin: 0 auto; 
    background: white; 
    padding: 30px; 
    border-radius: 10px; 
    box-shadow: 0 4px 12px rgba(0,0,0,0.08); 
} 

/* =========================================== INPUTS & BUTTONS =========================================== */
.section input, .section select,
.summary-box input, .summary-box select {
    padding: 6px 8px; 
    border: 1px solid #cdd5df; 
    border-radius: 4px;
    font-size: 12px; 
    line-height: 1.2;
    transition: border-color 0.2s;
}
.section input:focus, .section select:focus {
    border-color: #0B63C5;
    outline: none;
}
.btn-compact {
    padding: 6px 12px;
    font-size: 12px;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.2s;
}
.primary-btn { background: #0B63C5; }
.add-btn { background: #28a745; }
.print-btn { background: #17a2b8; }
.delete-btn { background: #dc3545; }
.btn-compact:hover { opacity: 0.9; }
.btn-compact.full { width: 100%; }

/* =========================================== HEADER & SECTIONS (UNCHANGED) =========================================== */ 
.header-flex { 
    display: flex; 
    justify-content: space-between; 
    border-bottom: 2px solid #ddd; 
    padding-bottom: 15px; 
    margin-bottom: 15px;
} 
.logo-area { 
    display: flex; 
    gap: 15px; 
    align-items: center; 
} 
.logotype { 
    background: #000; 
    color: #fff; 
    width: 70px; 
    height: 70px; 
    line-height: 70px; 
    text-align: center; 
    font-size: 14px; 
    font-weight: 900;
    border-radius: 6px; 
} 
.h-title { 
    font-size: 20px; 
    font-weight: 800; 
    margin: 0; 
} 
.h-sub { 
    margin: 3px 0 0; 
    opacity: 0.8; 
    font-size: 12px; 
} 
.invoice-label { 
    background: #0B63C5; 
    color: white; 
    padding: 8px 12px; 
    font-size: 11px; 
    font-weight: 700;
    border-radius: 4px; 
    display: inline-block; 
} 
.compact-line { 
    margin-bottom: 20px; 
    padding: 12px 15px; 
    background: #e9ecef; 
    border-radius: 6px; 
    display: flex;
    align-items: center;
    gap: 10px;
} 
.section { 
    margin-top: 25px; 
} 
.column-title { 
    background: #f1f3f5; 
    text-transform: uppercase; 
    padding: 10px 15px; 
    font-size: 11px; 
    font-weight: 700; 
    border-radius: 4px 4px 0 0;
} 
.details-grid { 
    grid-template-columns: repeat(3, 1fr) !important; 
    display: grid; 
    gap: 15px; 
    padding: 15px; 
    border: 1px solid #eee;
    border-top: none;
    border-radius: 0 0 4px 4px;
} 
.details-grid label { 
    display: block;
    font-size: 10px; 
    font-weight: 600;
    text-transform: uppercase; 
    opacity: 0.7; 
    margin-bottom: 3px;
} 
.details-grid input, .details-grid select {
    width: 100%;
    box-sizing: border-box;
}

/* =========================================== BILL TABLE (UPDATED GRID) =========================================== */ 
/* Grid template adjusted for 11 columns: S.No (30), Date (60), Desc (1fr), Rate (60), Qty (40), Gross (70), Discount (60), Net/Taxable (60), Tax Amt (60), Total (70), Action (35) */
.column-header-row, .row { 
    display: grid; 
    grid-template-columns: 30px 60px 1fr 60px 40px 70px 60px 60px 60px 70px 35px;
} 
.column-header { 
    background: #e9ecef; 
    text-transform: uppercase; 
    padding: 8px 3px; /* Reduced padding slightly to fit */
    font-size: 10px; 
    font-weight: 700; 
    border-right: 1px solid #ddd; 
    text-align: center;
} 
.column-header:nth-child(3) { text-align: left; padding-left: 10px; }
.column-header:last-child { border-right: none; }
.financial-header {
    background: #e9ecef; 
}

.cat-strip { 
    background: #f5f5ff; 
    padding: 8px 12px; 
    font-weight: 700; 
    border-bottom: 1px solid #eee; 
    grid-column: 1 / span 11; /* Spans all 11 columns */
} 
.row { 
    padding: 5px 0; 
    border-bottom: 1px dashed #eee; 
} 
.row div { 
    display: flex; 
    align-items: center; 
    justify-content: flex-end; 
    padding: 0 3px;
} 
.row div:nth-child(1), .row div:nth-child(3) { 
    justify-content: flex-start; 
} 
.row div:nth-child(3) {
    padding-left: 10px;
}
.row strong { 
    font-weight: 600;
}
.r input {
    border: 1px dashed #ccc;
    width: 95%;
    padding: 2px; 
    text-align: right;
    font-size: 11px; 
}
.row .delete-btn {
    padding: 1px 4px;
    font-size: 9px;
}
.add-item-section {
    border: 1px solid #ddd; 
    padding: 15px; 
    border-radius: 6px;
    background: #fcfcfc;
}

/* =========================================== SUMMARY (TAX UPDATES) =========================================== */ 
.summary-box { 
    padding: 15px; 
    border: 1px solid #eee; 
    border-radius: 6px; 
} 
.summary-grid {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 10px;
}
.summary-row {
    grid-column: 2 / 3; 
}
.summary-row:first-child {
    grid-column: 1 / 3; 
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.summary-row:first-child input {
    width: 60px;
    text-align: right;
}
.sum-line { 
    display: flex; 
    justify-content: space-between; 
    padding: 5px 0; 
    font-size: 13px;
} 
.sub-total-line {
    opacity: 0.8;
    font-size: 12px;
}
.total-taxable { /* Style for the pre-tax net amount */
    font-weight: 700; 
    border-top: 1px dashed #ccc; 
    margin-top: 8px; 
    padding-top: 8px; 
    font-size: 14px;
}
.tax-line { /* New style for the tax amount */
    color: #0b9e59;
    font-weight: 600;
}
.sum-line.total { 
    font-weight: 800; 
    border-top: 2px solid #333; /* Heavy separator for Grand Total */
    margin-top: 8px; 
    padding-top: 8px; 
    font-size: 16px;
} 
.final-balance {
    font-size: 18px;
    font-weight: 900;
    color: #dc3545; 
    border-top: 2px solid #333;
    padding-top: 10px;
    margin-top: 10px;
}
.receipt-line {
    border-top: 1px solid #eee;
    padding-top: 8px;
    margin-top: 8px;
}
.print-action {
    grid-column: 1 / 3;
    text-align: right;
    margin-top: 15px;
}


/* =========================================== PRINT MODE (CRITICAL) =========================================== */ 
@media print {
    body * { visibility: hidden; }
    .container, .container * {
        visibility: visible;
        -webkit-print-color-adjust: exact !important; 
        color-adjust: exact !important;
    }
    .container {
        position: absolute;
        left: 0; top: 0;
        width: 100%; max-width: 100%;
        margin: 0; padding: 15px 30px;
        box-shadow: none;
        font-size: 10pt; 
    }
    
    /* Hide all interactive elements */
    .compact-line, .add-item-section, 
    .section input, .section select, 
    .delete-btn, .print-action, 
    #receiptLines ~ div { 
        display: none !important;
    }
    
    /* Adjust table for print output: remove action column and replace input fields with static value */
    .column-header-row, .row { 
        /* Removed the last (Action) column */
        grid-template-columns: 30px 60px 1fr 60px 40px 70px 60px 60px 60px 70px !important; 
    }
    .column-header:last-child { display: none !important; }
    .row > div:last-child { display: none !important; } 
    
    /* Show static text in place of input fields (Discount input field) */
    .row input {
        display: none !important;
    }
    .row .r strong { 
        display: block !important;
        text-align: right !important;
    }
    
    /* Ensure summary grid collapses into print-friendly view */
    .summary-grid {
        display: block !important;
    }
    .summary-row, .summary-row:first-child {
        grid-column: auto !important;
    }
    .summary-box input {
        display: none !important;
    }
}
